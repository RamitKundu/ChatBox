app.controller('FriendController', [ 'FriendService', '$http', '$scope',
		'$location', '$rootScope',
		function(FriendService, $http, $scope, $location, $rootScope) {

			var self = this;
			
			self.searchAllFriends = function() {

				console.log("FriendList  controller called");
				FriendService.listofFrnds().then(function(response) {
					
					
					self.friendlist = response.data;
					console.log(self.friendlist);
			                     
				}, function(error) {
					console.log(error);
				});
			}
			
			self.sendfrndRqst = function(frnd) {	
				
				var data = {

						user : $rootScope.currentUser,
						friend : frnd,
                        status:"New",
                        initiator:1
					}
                
				console.log("Frnd Rqst Send controller called");
                
				FriendService.sendFrndRqst(data).then(function() {
					
					alert("Friend Request Send Successfully..:)");
					

				}, function(error) {
					console.log(error);
				});
			}
			
			self.seeAllSendRqst = function() {

				console.log("Send Rqst  controller called");
				self.uId=$cookieStore.get('currentUser').userId;
				console.log(self.uId)
				FriendService.listofSendRqst(self.uId).then(function(response) {
					
					
					self.friendlist = response.data;
					console.log(self.friendlist);
			                     
				}, function(error) {
					console.log(error);
				});
			}
			
			
			
			
			
			
			
			

		} ])